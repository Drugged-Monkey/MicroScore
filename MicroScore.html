<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Language" content="ru">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic&subset=latin,cyrillic,cyrillic-ext' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="http://code.jquery.com/jquery-2.0.2.min.js" type="text/javascript"></script>
	<script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js" type="text/javascript"></script>
	<script src="tabletop.js" type="text/javascript"></script>
	<script src="MicroScore.js" type="text/javascript"></script>
</head>

<body>
	<div style="display: none;">
		Options
        <div>
			<input type="radio" value="1" data-bind="checked: sortType" disabled="disabled" />
			Points 
            <input type="radio" value="2" data-bind="checked: sortType" disabled="disabled" />
			Alphabet 
		</div>
	</div>
	<table id="mainTable">
		<thead>
			<tr>
				<th>Место</th>
				<th>Название</th>
				<th title='Выигрыши'>В</th>
				<th title='Ничьи'>Н</th>
				<th title='Поражения'>П</th>
				<th title='Очки'>О</th>
				<th title='Взятые'>Вз</th>
				<th title='Максимум по турам в которых играла команда'>М</th>
				<th title='Процент'>%</th>
			</tr>
		</thead>
		<tbody data-bind="foreach: teams">
			<tr>
				<td data-bind="text: $index() + 1"></td>
				<td data-bind="text: teamName"></td>
				<td data-bind="text: wins"></td>
				<td data-bind="text: draws"></td>
				<td data-bind="text: loses"></td>
				<td data-bind="text: points"></td>
				<td data-bind="text: totalAnsweredQuestions"></td>
				<td data-bind="text: totalMaxQuestions"></td>
				<td data-bind="text: percents"></td>
			</tr>
		</tbody>
	</table>

	<div id="mask" class="mask" data-bind="visible: isMaskVisible" style="display: block"></div>
	<div id="spinnerMask" class="mask spinner"  data-bind="visible: !isUiVisible"></div>
	<div id="container" class="container" data-bind="visible: isWindowVisible" style="display: none">
		<div id="top">
			<div id="first">
				<span data-bind="text: teamName"></span>
			</div>
			<div id="score">
				<div data-bind="css: matchesStyle" class="scoreBack">
					<span data-bind="text: matchesScore"></span>
				</div>
			</div>
			<div id="second">
				<span data-bind="text: guestName"></span>
			</div>
		</div>
		<div id="results">
			<ul data-bind="foreach: matches">
				<li>
					<div class="left">
						<span data-bind="text: isTeamLead ? 'Вели тур' : (isTeamB == null ? '0 (Н)' : (!isTeamB ? teamScore : (isTeamB && isGuestB ? teamScore + ' (Б)' : '0 (Б)'))), css: { boldText: !isTeamLead && !isGuestLead && (teamScore > guestScore) }"></span>
					</div>
					<div class="center">:</div>
					<div class="right">
						<span data-bind="text: isGuestLead ? 'Вели тур' : (isGuestB == null ? '0 (Н)' : (!isGuestB ? guestScore : (isTeamB && isGuestB ? guestScore + ' (Б)' : '0 (Б)'))), css: { boldText: !isGuestLead && !isTeamLead && (teamScore < guestScore) }"></span>
					</div>
				</li>
			</ul>

			<button title="Close (Esc)" type="button" class="mfp-close" data-bind="click: clearWindow">×</button>

		</div>
	</div>

	<div id="mergeContainer" class="container" data-bind="visible: isMergeVisible" style="display: none">
		<div>
			Merge Window
		</div>
		<div id="commands">
		</div>
	</div>

	<div class="footer">
		<div data-bind="html: firstPerson"></div>
		<div data-bind="html: secondPerson"></div>
		<div>(c) 2013</div>
	</div>

	<div class="footer">
		<div><a href="http://jquery.com/">Thanks to jQuery</a></div>
		<div><a href="http://knockoutjs.com/">Thanks to knockout.js</a></div>
		<div><a href="https://github.com/jsoma/tabletop">Thanks to tabletop.js</a></div>
	</div>

</body>
</html>
